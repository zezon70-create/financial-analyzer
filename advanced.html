<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„ÙØ§Ø¦Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© | Financial Analyzer</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { font-family: Arial,sans-serif; margin:0; padding:0; transition: background 0.3s,color 0.3s;}
.light-mode { background:#f8f9fa; color:#212529;}
.dark-mode { background:#121212; color:#f8f9fa;}
header { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#0d6efd; color:#fff; box-shadow:0 4px 6px rgba(0,0,0,0.1);}
header .logo { height:40px; margin-left:10px;}
header button, header select { margin-left:10px; padding:5px 10px; cursor:pointer; border:none; border-radius:5px;}
header button:hover, header select:hover { opacity:0.85;}
.container { padding:20px; position:relative;}
.card { background:#fff; border-radius:10px; padding:15px; margin-bottom:20px; box-shadow:0 2px 8px rgba(0,0,0,0.15); transition: transform 0.2s;}
.card:hover { transform: translateY(-5px);}
.dark-mode .card { background:#1e1e1e;}
.card-header { font-weight:bold; margin-bottom:10px; padding:10px; border-radius:8px; box-shadow: inset 0 -2px 4px rgba(0,0,0,0.1);}
.bg-primary { background:#0d6efd; color:#fff;}
.bg-success { background:#198754; color:#fff;}
.bg-warning { background:#ffc107; color:#212529;}
.bg-danger { background:#dc3545; color:#fff;}
table { width:100%; border-collapse:collapse; table-layout:auto;}
table, th, td { border:1px solid #dee2e6;}
th, td { padding:8px; text-align:right;}
th { background:#e9ecef; cursor:pointer;}
.dark-mode th { background:#2c2c2c;}
tr:nth-child(even) { background:#f2f2f2;}
.dark-mode tr:nth-child(even) { background:#2a2a2a;}
canvas { width:100% !important; max-height:300px;}
.footer { text-align:center; padding:15px; background:#e9ecef; margin-top:20px;}
.dark-mode .footer { background:#1e1e1e; color:#f8f9fa;}
.alert { padding:10px; margin-bottom:15px; border-radius:6px;}
.alert-success { background:#d1e7dd; color:#0f5132;}
.alert-warning { background:#fff3cd; color:#664d03;}
.alert-danger { background:#f8d7da; color:#842029;}
.badge { padding:2px 6px; border-radius:4px; font-size:0.9em; margin-left:3px;}
.badge-low { background:#198754; color:#fff;}
.badge-medium { background:#ffc107; color:#212529;}
.badge-high { background:#dc3545; color:#fff;}
/* Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ© */
.watermark {
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  opacity:0.05;
  z-index:0;
  pointer-events:none;
}
.watermark img { max-width:400px; max-height:400px;}
</style>
</head>
<body class="light-mode">

<header>
  <div class="d-flex align-items-center">
    <img src="assets/logo.png" alt="logo" class="logo">
    <strong id="siteTitle">Financial Analyzer</strong>
  </div>
  <div>
    <select id="currencySelect">
      <option value="EGP">Ø¬Ù†ÙŠÙ‡</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
    </select>
    <button id="toggleDarkMode">Dark/Light</button>
    <button id="toggleLanguage">EN/AR</button>
  </div>
</header>

<!-- Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ© -->
<div class="watermark">
  <img src="assets/logo.png" alt="Watermark">
</div>

<div class="container">
  <h1 id="pageTitle">ğŸ“Š Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„ÙØ§Ø¦Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© + ØªÙ†Ø¨Ø¤ 10 Ø³Ù†ÙˆØ§Øª</h1>
  <p id="pageDesc">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù„Ø­Ø§Ù„ÙŠØ© + Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø§Ø·Ø± Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª.</p>

  <div class="alert alert-warning" id="forecastAlert">
    ØªØ´Ù…Ù„ Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ù„Ø¹ÙˆØ§Ø¦Ø¯ ÙˆÙ…Ø®Ø§Ø·Ø± Ø§Ù„Ø´Ø±ÙƒØ© Ù„ÙƒÙ„ Ø³Ù†Ø© Ù„Ø¹Ø´Ø± Ø³Ù†ÙˆØ§Øª Ù…Ø¹ Ø£Ù„ÙˆØ§Ù† Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰.
  </div>

  <div class="row" id="ratioTables"></div>

  <!-- Charts -->
  <div class="row mt-3" id="chartsRow"></div>

  <!-- Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ØªÙ†Ø¨Ø¤ -->
  <div class="row mt-3">
    <div class="col">
      <div class="card">
        <div class="card-header bg-danger">Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ</div>
        <p id="riskIndex" class="alert alert-danger"></p>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-header bg-success">ØªÙ†Ø¨Ø¤ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ (10 Ø³Ù†ÙˆØ§Øª)</div>
        <p id="forecastReturn" class="alert alert-success"></p>
      </div>
    </div>
  </div>

</div>

<div class="footer">&copy; 2025 Financial Analyzer</div>

<script>
// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø©
let lang='AR', currency='EGP';
const body=document.body;

// Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
document.getElementById('toggleDarkMode').addEventListener('click',()=>{body.classList.toggle('dark-mode');body.classList.toggle('light-mode');});
document.getElementById('toggleLanguage').addEventListener('click',()=>{lang=lang==='AR'?'EN':'AR';updateLanguage();});
document.getElementById('currencySelect').addEventListener('change',(e)=>{currency=e.target.value;updateTables();});

// Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©
const financialData={
  liquidity:[
    {ratio:'Current Ratio', prev:1.5, curr:1.8, descAR:'Ù‚Ø¯Ø±Ø© Ø§Ù„Ø´Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø§Ù„Ù‚ØµÙŠØ±Ø© Ø§Ù„Ø£Ø¬Ù„', descEN:'Ability to cover short-term obligations', forecast:[1.85,1.9,1.95,2.0,2.05,2.1,2.15,2.2,2.25,2.3]},
    {ratio:'Quick Ratio', prev:1.0, curr:1.2, descAR:'Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ø§Ù„ÙÙˆØ±ÙŠØ© Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø®ØµÙˆÙ… Ø§Ù„Ù‚ØµÙŠØ±Ø©', descEN:'Immediate liquidity vs short-term liabilities', forecast:[1.22,1.25,1.28,1.3,1.33,1.35,1.38,1.4,1.42,1.45]}
  ],
  profitability:[
    {ratio:'ROA', prev:0.10, curr:0.12, descAR:'Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£ØµÙˆÙ„', descEN:'Return on Assets', forecast:[0.13,0.14,0.145,0.15,0.152,0.155,0.16,0.162,0.165,0.17]},
    {ratio:'Net Margin', prev:0.12, curr:0.15, descAR:'Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ØµØ§ÙÙŠ', descEN:'Net Profit Margin', forecast:[0.155,0.16,0.162,0.165,0.168,0.17,0.172,0.175,0.178,0.18]}
  ],
  activity:[
    {ratio:'Asset Turnover', prev:1.3, curr:1.5, descAR:'ÙƒÙØ§Ø¡Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ØµÙˆÙ„', descEN:'Efficiency of asset use', forecast:[1.52,1.55,1.57,1.6,1.62,1.65,1.67,1.7,1.72,1.75]}
  ],
  debt:[
    {ratio:'Debt/Equity', prev:0.9, curr:0.8, descAR:'Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙ† Ø¥Ù„Ù‰ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©', descEN:'Debt to Equity Ratio', forecast:[0.78,0.76,0.75,0.73,0.72,0.7,0.68,0.66,0.65,0.63]}
  ]
};

function formatVal(val){
  return currency==='EGP'?val+' Ø¬.Ù…':currency==='USD'? '$'+val:'â‚¬'+val;
}

// Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯Ø§ÙˆÙ„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
function updateTables(){
  const container=document.getElementById('ratioTables');
  container.innerHTML='';
  for(const key in financialData){
    const card=document.createElement('div');
    card.className='col-md-6';
    const inner=`<div class="card">
      <div class="card-header ${key==='liquidity'?'bg-primary':key==='profitability'?'bg-success':key==='activity'?'bg-warning':'bg-danger'}">
      ${lang==='AR'?key==='liquidity'?'Ù†Ø³Ø¨ Ø§Ù„Ø³ÙŠÙˆÙ„Ø©':key==='profitability'?'Ù†Ø³Ø¨ Ø§Ù„Ø±Ø¨Ø­ÙŠØ©':key==='activity'?'Ù†Ø³Ø¨ Ø§Ù„Ù†Ø´Ø§Ø·':'Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¯ÙŠÙˆÙ†ÙŠØ©':key}
      </div>
      <table>
        <thead><tr><th>Ø§Ù„Ù†Ø³Ø¨Ø©</th><th>Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</th><th>Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</th><th>ØªÙ†Ø¨Ø¤ 10 Ø³Ù†ÙˆØ§Øª</th><th>Ø§Ù„ØªÙØ³ÙŠØ±</th></tr></thead>
        <tbody>
        ${financialData[key].map(f=>{
          const forecastStr=f.forecast.map(v=>{
            if(v<0.5) return `<span class="badge badge-low">${formatVal(v)}</span>`;
            else if(v<1.5) return `<span class="badge badge-medium">${formatVal(v)}</span>`;
            else return `<span class="badge badge-high">${formatVal(v)}</span>`;
          }).join(' | ');
          return `<tr>
            <td>${f.ratio}</td>
            <td>${formatVal(f.prev)}</td>
            <td>${formatVal(f.curr)}</td>
            <td>${forecastStr}</td>
            <td>${lang==='AR'?f.descAR:f.descEN}</td>
          </tr>`;
        }).join('')}
        </tbody>
      </table>
    </div>`;
    card.innerHTML=inner;
    container.appendChild(card);
  }
}

// Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
let charts={};
function createCharts(){
  const chartContainer=document.getElementById('chartsRow');
  chartContainer.innerHTML='';
  for(const key in financialData){
    const col=document.createElement('div');
    col.className='col-md-6';
    col.innerHTML=`<div class="card p-2"><canvas id="${key}Chart"></canvas></div>`;
    chartContainer.appendChild(col);

    const ctx=document.getElementById(`${key}Chart`).getContext('2d');
    const labels=financialData[key].map(f=>f.ratio);
    const datasets=[
      {label:'Previous', data:financialData[key].map(f=>f.prev), backgroundColor:'rgba(220,53,69,0.6)'},
      {label:'Current', data:financialData[key].map(f=>f.curr), backgroundColor:'rgba(13,110,253,0.6)'},
      {label:'Forecast', data:financialData[key].map(f=>f.forecast.reduce((a,b)=>a+b,0)/f.forecast.length),
        type:'line', borderColor:'orange', borderWidth:2, fill:false}
    ];
    charts[key]=new Chart(ctx,{type:'bar', data:{labels,datasets}, options:{responsive:true,plugins:{legend:{position:'top'}}}});
  }
}

// Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ØªÙ†Ø¨Ø¤
function updateRiskForecast(){
  let avgRisk=(financialData.debt.reduce((a,f)=>a.forecast.reduce((x,y)=>x+y,0)/f.forecast.length,0)/financialData.debt.length*100).toFixed(1);
  document.getElementById('riskIndex').innerText=lang==='AR'?`Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (10 Ø³Ù†ÙˆØ§Øª): ${avgRisk}%`:`Expected Risk Index (10Y): ${avgRisk}%`;

  let forecastReturn=(financialData.profitability.reduce((a,f)=>a.forecast.reduce((x,y)=>x+y,0)/f.forecast.length,0)/financialData.profitability.length*100).toFixed(1);
  document.getElementById('forecastReturn').innerText=lang==='AR'?`ØªÙ†Ø¨Ø¤ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ (10 Ø³Ù†ÙˆØ§Øª): ${forecastReturn}%`:`Forecast Return (10Y): ${forecastReturn}%`;
}

// Ø§Ù„Ù„ØºØ©
function updateLanguage(){
  document.getElementById('pageTitle').innerText = lang==='AR'?'ğŸ“Š Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„ÙØ§Ø¦Ù‚Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© + ØªÙ†Ø¨Ø¤ 10 Ø³Ù†ÙˆØ§Øª':'ğŸ“Š Interactive Super Advanced Financial Analysis + 10 Years Forecast';
  document.getElementById('pageDesc').innerText = lang==='AR'?'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ù…Ø¹ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù„Ø­Ø§Ù„ÙŠØ© + Ø§Ù„ØªÙ†Ø¨Ø¤Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø§Ø·Ø± Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª.':'All ratios and indicators with period comparison + future forecasts & risk scenarios.';
  updateTables();
}

// ØªÙ†ÙÙŠØ° Ø§Ù„ÙƒÙ„
updateLanguage();
createCharts();
updateRiskForecast();
</script>

</body>
</html>
