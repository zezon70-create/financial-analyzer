<!doctype html>
<html lang="en" dir="ltr">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Financial Analyzer — Global</title>
<link rel="icon" href="assets/logo.png">
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<nav class="nav container">
  <div class="logo"><img src="assets/logo.png" alt="logo" style="height:42px"><span class="brand">Financial Analyzer</span></div>
  <div class="links">
    <a href="index.html">Home</a>
    <a href="input.html">Input</a>
    <a href="upload.html">Upload</a>
    <a href="report_improved.html">Report</a>
    <a href="advanced.html">Advanced</a>
    <a href="dashboard.html">Dashboard</a>
  </div>
  <div class="actions">
    <select id="langSelectNav"><option value="en">EN</option><option value="ar">AR</option></select>
    <button id="themeToggle">Dark</button>
  </div>
</nav>
<main class="container">
  <section class="hero">
    <h1>Make financial analysis effortless — for accountants and non-accountants</h1>
    <p>Upload your trial balance or enter it manually, get IFRS-aligned financial statements, clear explanations, and advanced analytics.</p>
    <div class="cta"><a class="btn" href="upload.html">Upload File</a> <a class="btn ghost" href="input.html">Enter Manually</a></div>
  </section>
  <section class="features grid">
    <article class="card"><h3>Smart Input</h3><p>Autocomplete and guided entry for trial balances.</p></article>
    <article class="card"><h3>Upload</h3><p>CSV / Excel parsing with Arabic & English mappings.</p></article>
    <article class="card"><h3>Reports</h3><p>Interactive reports with export-ready PDFs.</p></article>
    <article class="card"><h3>Advanced</h3><p>Ratios, benchmarking, and forecasting tools.</p></article>
  </section>
</main>
<footer><div>© Financial Analyzer — Built for global teams</div><div>Made with ❤️ — Motaz Ahmed</div></footer>
<script src="js/parser_patched.js"></script>
<script>
// Theme toggle
(function(){
  const btn = document.getElementById('themeToggle');
  const setTheme = (t)=>{
    if(t === 'dark') document.documentElement.classList.add('fa-dark'), btn.textContent = 'Light';
    else document.documentElement.classList.remove('fa-dark'), btn.textContent = 'Dark';
    localStorage.setItem('fa-theme', t);
  };
  btn.addEventListener('click', ()=> setTheme(document.documentElement.classList.contains('fa-dark') ? 'light' : 'dark'));
  const saved = localStorage.getItem('fa-theme') || 'light'; setTheme(saved);
})();
// i18n loader (basic)
(async function(){
  const sel = document.getElementById('langSelectNav');
  sel.addEventListener('change', async ()=>{
    const lang = sel.value;
    try{ const res = await fetch('i18n/' + lang + '.json'); const data = await res.json();
      document.querySelectorAll('[data-i18n]').forEach(el => { const key = el.getAttribute('data-i18n'); if(data[key]) el.textContent = data[key]; });
      localStorage.setItem('fa-lang', lang); document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
    }catch(e){ console.warn('i18n load failed', e); }
  });
  const saved = localStorage.getItem('fa-lang') || 'en'; sel.value = saved; sel.dispatchEvent(new Event('change'));
})();
</script>
</body>
</html>